{% load static %}
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="{% static 'css/dhan.css' %}" />
    <script
    src="https://kit.fontawesome.com/e5e83f9d84.js"
    crossorigin="anonymous"
  ></script>
  <script type="text/javascript" src="{% static 'js/dhan.js' %}"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous" />
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
</head>
<body>
    <section class="mb-3 pb-4">
    <div>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <a class="navbar-brand" href="#">HasGu
          
        </a>
        <button class="navbar-toggler " type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav ml-auto">
                <a  class="nav-link active" href="{% url 'home' %}">Home <span class="sr-only">(current)</span></a>
                <a class="nav-link text-white" href="{% url 'createdesign' %}">Create Design</a>
                <!-- <a class="nav-link text-white" href="aboutus.html">About Us</a>
                <a class="nav-link text-white" href="#">Contact</a> -->
                <a class="nav-link text-white" href="{% url 'cart' %}">Cart</a>
            </div>
        </div>
    </nav>
    </div>
    </section>
    <div class = "abc">
 
      <style>
        body {
          background-color: #f8f9fa;
        }
    
        .container {
          max-width: 600px;
          margin: 0 auto;
          padding: 20px;
        }
    
        .form-group {
          margin-bottom: 20px;
        }
    
        .btn-submit {
          background-color: #007bff;
          color: #fff;
          border: none;
        }
    
        .design-preview {
          margin-top: 30px;
          text-align: center;
        }
    
        .shirt-preview {
          position: relative;
          width: 200px;
          height: 200px;
          margin: 0 auto;
          background-color: #fff;
          border: 1px solid #ddd;
          border-radius: 5px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
    
        .shirt-preview img {
          max-width: 100%;
          max-height: 100%;
        }
    
        .shirt-preview .shirt-text {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          font-size: 16px;
          font-weight: bold;
          text-align: center;
        }
      </style>
    </head>
    <body>
      <div class="abc">
        <div class="container">
          <h2>Create Design</h2>
          <div class="form-group">
            <label for="shirtType">Shirt Type:</label>
            <select class="form-control" id="shirtType">
              <option value="">Select Shirt Type</option>
              <option value="{% static 'images/blackhalfhand.jpeg' %}">Shirt 1</option>
              <option value="{% static 'images/blackhoddie.jpeg' %}">Shirt 2</option>
              <option value="{% static 'images/whitehalfhand.jpeg' %}">Shirt 2</option>
              
            </select>
          </div>
          <form id="designForm">
            <div class="form-group">
              <label for="inputText">Enter Text:</label>
              <input type="text" class="form-control" id="inputText" placeholder="Enter text" required>
              <button type="button" class = "btn btn-warning" id="searchReferenceBtn">Search Reference</button>
            </div>
            <div class="form-group">
              <label for="fontStyle">Font Style:</label>
              <select class="form-control" id="fontStyle" required>
                <option value="">Select Font Style</option>
                <option value="Arial">Arial</option>
                <option value="Verdana">Verdana</option>
                <option value="Helvetica">Helvetica</option>
                
              </select>
            </div>
            <div class="form-group">
              <label for="referenceTextarea">References:</label>
              <div class="row">
                <div class="col">
                  <textarea class="form-control reference-textarea" id="textarea1"></textarea>
                </div>
                <div class="col">
                  <textarea class="form-control reference-textarea" id="textarea2"></textarea>
                </div>
                <div class="col">
                  <textarea class="form-control reference-textarea" id="textarea3"></textarea>
                </div>
              </div>
            </div>
            <button type="submit" class="btn btn-submit">Create Design</button>
          </form>
          <div class="design-preview">
            <h4>Design Preview</h4>
            <div class="shirt-preview">
              <img id="shirtImage" src="{% static 'images/whitehalfhand.jpeg' %}" alt="Shirt Image">
              <span class="shirt-text"></span>
            </div>
          </div>
        </div>
      </div>
    
      <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
      <script>
        
        $('#designForm').on('submit', function(event) {
          event.preventDefault();
    
          
          var text = $('#inputText').val();
          var fontStyle = $('#fontStyle').val();
          var selectedShirtType = $('#shirtType').val();
          var selectedTextarea = $('.reference-textarea:checked').val();
    
        
          var reference = selectedTextarea ? $('#' + selectedTextarea).val() : '';
          $('.shirt-preview').css('background-image', 'url("' + selectedShirtType + '")');
          $('.shirt-text').text(reference).css('font-family', fontStyle);
    
    
          saveDesignToLocalStorage(text, fontStyle, selectedTextarea, selectedShirtType);
    
          
          $('#inputText').val('');
          $('#fontStyle').val('');
          $('.reference-textarea').val('');
          $('.shirt-preview').css('background-image', 'none');
          $('.shirt-preview').find('.shirt-text').text('');
        });
    
        // Function to save the user-created design to local storage
        function saveDesignToLocalStorage(text, fontStyle, selectedTextarea, selectedShirtType) {
          // Check if local storage is supported by the browser
          if (typeof(Storage) !== "undefined") {
            // Create an object to store the design details
            var design = {
              text: text,
              fontStyle: fontStyle,
              selectedTextarea: selectedTextarea,
              selectedShirtType: selectedShirtType
            };
    
            // Get the existing designs from local storage or create an empty array
            var savedDesigns = JSON.parse(localStorage.getItem('userDesigns')) || [];
    
            // Add the new design to the array
            savedDesigns.push(design);
    
            // Save the updated array back to local storage
            localStorage.setItem('userDesigns', JSON.stringify(savedDesigns));
    
            // Display a success message or perform any other desired action
            console.log('Design saved successfully!');
          } else {
            // Local storage is not supported
            console.log('Local storage is not supported');
          }
        }
    
        // Handle reference search button click
        $('#searchReferenceBtn').on('click', function() {
          var searchText = $('#inputText').val();
          searchWordReference(searchText)
            .then(function(references) {
              $('.reference-textarea').each(function(index) {
                $(this).val(references[index] || '');
              });
            })
            .catch(function(error) {
              console.log('Error searching word reference:', error);
            });
        });
    
        
        function searchWordReference(text) {
          return new Promise(function(resolve, reject) {
            
            var apiKey = '9a4ff2bc62msh7dc7c927e19a5e1p1631d8jsnebba42973401';
            var apiUrl = 'https://api.urbandictionary.com/v0/define?term=' + encodeURIComponent(text) + '&key=' + apiKey;
    
            $.ajax({
              url: apiUrl,
              method: 'GET',
              dataType: 'json',
              success: function(response) {
                if (response.list && response.list.length > 0) {
                  
                  var references = response.list.map(function(result) {
                    return result.definition;
                  });
                  resolve(references.slice(0, 3)); 
                } else {
                  resolve([]); 
                }
              },
              error: function(xhr, status, error) {
                reject(error);
              }
            });
          });
        }
      </script>
 
</div>    


    

<div class="bg-container p-3">
    <div class="container">
        <div class="row">
            <div class="col-12 col-md-6 col-lg-3">
                <div style="text-align: center;">
                    <img src="https://d1tgh8fmlzexmh.cloudfront.net/ccbp-responsive-website/ecommerce-website-logo-img.png" class="imaage" />
                    <div class="d-flex flex-row justify-content-center">
                        <div class="icons-background p-3">
                            <i class="fa-brands fa-google icon"></i>
                        </div>
                        <div class="icons-background p-3">
                            <i class="fa-brands fa-twitter icon"></i>
                        </div>
                        <div class="icons-background p-3">
                            <i class="fa-brands fa-instagram icon"></i>
                        </div>
                        <div class="icons-background p-3">
                            <i class="fa-brands fa-linkedin icon"></i>
                        </div>


                    </div>
                    <h1 style="font-size: 15px; color: #5a7184;">37, Ayur Vigyan Nagar, Neew Delhi, india</h1>

                </div>
            </div>
            <div class="col-6 col-sm-6 col-md-6 col-lg-3 mt-2">
                <h1 class="para">Get to know us</h1>
                <p class="para1">About us</p>
                <p class="para1">Carrer</p>
                <p class="para1">Press Releases</p>
                <p class="para1">Gift a smile</p>
            </div>
            <div class="col-6 col-sm-6 col-md-6 col-lg-3 mt-2">
                <h1 class="para">Get to know us</h1>
                <p class="para1">About us</p>
                <p class="para1">Carrer</p>
                <p class="para1">Press Releases</p>
                <p class="para1">Gift a smile</p>
            </div>
            <div class="col-sm-6 col-lg-3 col-md-6 mt-2">
                <h1 class="para">Let Us Help You</h1>
                <p class="para1">100% Purchase</p>
                <p class="para1">Protection</p>
                <p class="para1">your assisstant</p>
                <p class="para1">Help</p>
            </div>
            <hr class="graze" />
            <div class="d-flex flex-row text-center">

                <p classs="para" style="color: #5a7184;"><i class="fa-regular fa-copyright"></i> 2022 by avinash, created with bootstrap</p>
            </div>
        </div>
    </div>
</div>
</body>
</html>